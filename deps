<dependency>
      <groupId>org.apache.logging.log4j</groupId>
      <artifactId>log4j-layout-template-json</artifactId>
</dependency>
    

String traceId =System.getenv().getOrDefault("_X_AMZN_TRACE_ID","NA").replace("Root=","");
            String correlationId =traceId.split(";")[0];
            MDC.put("traceId",traceId.replace("Root=",""));
            MDC.put("correlationId",correlationId);
            MDC.put("requestId",context.getAwsRequestId());
            MDC.put("compositeUserId", "a@b@brand");

            logger.info("Incoming request to authorize token");
            logger.info("Authorize process completed");
            MDC.clear();

<dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.apache.logging.log4j</groupId>
        <artifactId>log4j-bom</artifactId>
        <version>2.19.0</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  
  {
    "timestamp": "2023-03-27T08:23:35.078Z",
    "level": "INFO",
    "contextMap": {
        "compositeUserId": "a@b@brand",
        "correlationId": "1-64215281-4e35168d5b8cb2f773061586",
        "requestId": "4e8b04c4-2298-4fcb-a788-23f2054ad3ff",
        "traceId": "1-64215281-4e35168d5b8cb2f773061586;Parent=9b9383083d7a681b;Sampled=1"
    },
    "message": "Incoming request to authorize token"
}

https://elvisciotti.medium.com/logback-non-access-spring-logs-with-custom-json-format-and-mdc-1c6f1fbf28c4
